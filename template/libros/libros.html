<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" 
    integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <title>BIBLIOTECA</title>
</head>



<body>
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
                <a class="navbar-brand" href="#">Navbar</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                  <div class="navbar-nav">
                    <a class="nav-item nav-link active" href="#">Home <span class="sr-only">(current)</span></a>
                    <a class="nav-item nav-link" onclick="get_libro()" href="#">Libros</a>
                    <a class="nav-item nav-link" href="#">Pricing</a>
                    <a class="nav-item nav-link disabled" href="#">Disabled</a>
                  </div>
                </div>
        </nav>

          <div class="card-deck" id="contenido">
            
            
          </div>

          <script>
            var contenido = document.querySelector('#contenido')

                  function get_libro(){
                    fetch('http://127.0.0.1:8000/api/Libros/')
                    .then(res => res.json())
                    .then(data => {
                      card(data)
                    })
                  }

                  function card(data){
                    console.log('data = ', data)
                    contenido.innerHTML = ''

                    data.map((valor,i)=>{
                      contenido.innerHTML += `
                      <div class="card">
                     
                        <div class="card-body">
                          <h5 class="card-title">${valor.titulo}</h5>
                          <p class="card-text">${valor.autor.nombre}</p>
                          <p class="card-text">${valor.categoria.categoria}</p>
                          <p class="card-text">${valor.editorial.editorial}</p>
                        </div>
                      </div>     
                      `
                    })
                  }
          </script>

      

      

</body>
</html>

